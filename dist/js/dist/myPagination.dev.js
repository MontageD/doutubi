"use strict";function Page(e){var a=e.pageSize,t=e.pageTotal,n=e.curPage,i=e.id,l=e.getPage,s=e.showPageTotalFlag,r=e.showSkipInputFlag,g=e.pageAmount,o=e.dataTotal;a||(a=0),a||(a=0),t||(t=0),g||(g=0),o||(o=0),this.pageSize=a||5,this.pageTotal=t,this.pageAmount=g,this.dataTotal=o,this.curPage=n||1,this.ul=document.createElement("ul"),this.id=i,this.getPage=l,this.showPageTotalFlag=s||!1,this.showSkipInputFlag=r||!1,o>0&&t>0?this.init():console.error("总页数或者总数据参数不对")}Page.prototype={init:function(){var e=document.getElementById(this.id);e.innerHTML="",this.ul.innerHTML="",e.appendChild(this.ul);var a=this;a.firstPage(),a.lastPage(),a.getPages().forEach(function(e){var t=document.createElement("li");e===a.curPage?t.className="active":t.onclick=function(){a.curPage=parseInt(this.innerHTML),a.init(),a.getPage(a.curPage)},t.innerHTML=e,a.ul.appendChild(t)}),a.nextPage(),a.finalPage(),a.showSkipInputFlag&&a.showSkipInput(),a.showPageTotalFlag&&a.showPageTotal()},firstPage:function(){var e=this,a=document.createElement("li");a.innerHTML="首页",a.className="totalPage",this.ul.appendChild(a),a.onclick=function(){var a=parseInt(1);e.curPage=a,e.getPage(e.curPage),e.init()}},lastPage:function(){var e=this,a=document.createElement("li");a.innerHTML="<",parseInt(e.curPage)>1?a.onclick=function(){e.curPage=parseInt(e.curPage)-1,e.init(),e.getPage(e.curPage)}:a.className="disabled",this.ul.appendChild(a)},getPages:function(){var e=[];if(this.curPage<=this.pageTotal)if(this.curPage<this.pageSize)for(var a=Math.min(this.pageSize,this.pageTotal);a;)e.unshift(a--);else{var t=this.curPage-Math.floor(this.pageSize/2),n=this.pageSize;for(t>this.pageTotal-this.pageSize&&(t=this.pageTotal-this.pageSize+1);n--;)e.push(t++)}else console.error("当前页数不能大于总页数");return this.pageSize||console.error("显示页数不能为空或者0"),e},nextPage:function(){var e=this,a=document.createElement("li");a.innerHTML=">",parseInt(e.curPage)<parseInt(e.pageTotal)?a.onclick=function(){e.curPage=parseInt(e.curPage)+1,e.init(),e.getPage(e.curPage)}:a.className="disabled",this.ul.appendChild(a)},finalPage:function(){var e=this,a=document.createElement("li");a.innerHTML="尾页",this.ul.appendChild(a),a.onclick=function(){var a=e.pageTotal,t=parseInt(a);e.curPage=t,e.getPage(e.curPage),e.init()}},showSkipInput:function(){var e=this,a=document.createElement("li");a.className="totalPage";var t=document.createElement("span");t.innerHTML="跳转到",a.appendChild(t);var n=document.createElement("input");n.setAttribute("type","number"),n.onkeydown=function(a){var t=a;if("13"===t.keyCode){var n=parseInt(t.target.value);"number"==typeof n&&n<=e.pageTotal&&n>0?(e.curPage=n,e.getPage(e.curPage)):window.alert("请输入正确的页数 !"),e.init()}},a.appendChild(n);var i=document.createElement("span");i.innerHTML="页",a.appendChild(i),this.ul.appendChild(a)},showPageTotal:function(){var e=this,a=document.createElement("li");a.innerHTML="共&nbsp"+e.pageTotal+"&nbsp页",a.className="totalPage",this.ul.appendChild(a);var t=document.createElement("li");t.innerHTML="每页&nbsp"+e.pageAmount+"&nbsp条",t.className="totalPage",this.ul.appendChild(t);var n=document.createElement("li");n.innerHTML="合计&nbsp"+e.dataTotal+"&nbsp条数据",n.className="totalPage",this.ul.appendChild(n)}};